{% extends 'gentelella/admin/base.html' %}
<!--suppress HtmlUnknownAnchorTarget -->

{% block head_css %}
    {{ super() }}
    <link rel="stylesheet"
          href="{{ url_for('static', filename='admin/lib/bootstrap-colorpicker/dist/css/bootstrap-colorpicker.min.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/bootstrap/green.css') }}"/>
    <link rel="stylesheet" href="{{ url_for('static', filename='admin/lib/jt.timepicker/jquery.timepicker.css') }}">
    <link rel="stylesheet"
          href="{{ url_for('static', filename='admin/lib/bootstrap-datepicker/dist/css/bootstrap-datepicker3.min.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='admin/lib/switchery/dist/switchery.min.css') }}"/>
    <link rel="stylesheet"
          href="{{ url_for('static', filename='admin/lib/selectize/dist/css/selectize.bootstrap3.css') }}"/>
    <link rel="stylesheet" href="{{ url_for('static', filename='admin/lib/Croppie/croppie.css') }}"/>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/admin/event_wizard.css') }}"/>
{% endblock %}
{% block head_js %}
    {{ super() }}
    <script type="text/javascript" src="{{ url_for('static', filename='js/jquery/jquery.codezero.js') }}"></script>
{% endblock %}


{% macro button_bar(show_prev=true, show_next=true) %}
    <div class="clearfix"></div>
    <div class="btn-toolbar pull-right" style="margin-top: 25px;">
        <div class="btn-group btn-group-lg">
            {% if show_prev %}
                <button type="button" class="btn btn-default prev-step"><i
                        class="fa fa-chevron-left"></i> {{ _("Previous") }}</button>
            {% endif %}
            {% if show_next %}
                <button type="button" class="btn btn-default next-step">{{ _("Next") }} <i
                        class="fa fa-chevron-right"></i></button>
            {% endif %}
            <button type="button" class="btn btn-default save-event">{{ _("Save") }}</button>
            {% if event and event.state == 'Published' and not is_copy %}
                <button type="button"
                        class="btn btn-lg btn-danger publish-unpublish-event">{{ _("Unpublish event") }}</button>
            {% else %}
                <button type="button"
                        class="btn btn-lg btn-success publish-unpublish-event">{{ _("Make your event live") }}</button>
            {% endif %}
        </div>
    </div>
{% endmacro %}

{% set step = step if step else '' %}


{% block body %}

    {% if event %}
        <!-- {{ event.name }} -->
    {% endif %}

    <div class="page-title">
        <div class="text-center">
            <h1 style="font-weight: 100; margin-top: 0;">{{ self.title() }}</h1>
        </div>
    </div>
    <div class="row">
        <div class="col-md-12 col-sm-12 col-xs-12">
            <div class="x_panel">
                <div class="wizard" id="wizard" data-state="{{ event.state | default('', true) }}"
                     data-id="{{ event.id | default('', true) }}">
                    <div class="wizard-inner">
                        <div class="connecting-line"></div>
                        <ul class="nav nav-tabs">
                            <li {% if step == '' %}class="active"{% endif %}>
                                <a href="#step1" data-toggle="tab" title="Basic Details" data-href="./">
                                    <span class="round-tab">
                                        <i class="fa fa-info"></i>
                                    </span>
                                </a>
                                <span class="description hidden-xs hidden-sm">{{ _("Basic Details") }}</span>
                            </li>

                            <li {% if step == 'sponsors' %}class="active"{% endif %}>
                                <a href="#step2" data-toggle="tab" title="Sponsors" data-href="./sponsors">
                                    <span class="round-tab">
                                        <i class="fa fa-usd"></i>
                                    </span>
                                </a>
                                <span class="description hidden-xs hidden-sm">{{ _("Sponsors") }}</span>
                            </li>
                            <li {% if step == 'sessions-tracks-rooms' or step == 'call-for-speakers' or step == 'form-customization' %}class="active"{% endif %}>
                                <a href="#step3" data-toggle="tab" title="Session, Tracks, Rooms"
                                   data-href="./sessions-tracks-rooms">
                                    <span class="round-tab">
                                        <i class="fa fa-list-ol"></i>
                                    </span>
                                </a>
                                <span class="description hidden-xs hidden-sm">{{ _("Sessions") }} & {{ _("Speakers") }}</span>
                            </li>
                        </ul>
                    </div>

                    <div class="tab-content">
                        <div class="tab-pane fade {% if step == '' %}in active{% endif %}" id="step1">
                            {% include 'gentelella/admin/event/wizard/basic-details.html' %}
                            <div class="col-md-7 col-sm-7 step-1">
                                {{ button_bar(show_prev=false) }}
                            </div>
                        </div>
                        <div class="tab-pane fade {% if step == 'sponsors' %}in active{% endif %}" id="step2">
                            {% include 'gentelella/admin/event/wizard/sponsors.html' %}
                            <div class="col-md-10 col-md-push-1">
                                {{ button_bar() }}
                            </div>
                        </div>
                        <div class="tab-pane fade {% if step == 'sessions-tracks-rooms' or step == 'call-for-speakers' or step == 'form-customization' %}in active{% endif %}"
                             id="step3">
                            {% include 'gentelella/admin/event/wizard/sessions-tracks-microlocations.html' %}
                            {% include 'gentelella/admin/event/wizard/call-for-speakers.html' %}
                            {% include 'gentelella/admin/event/wizard/custom-form.html' %}
                            <div class="col-md-10 col-md-push-1">
                                {{ button_bar(show_next=false) }}
                            </div>
                        </div>
                        <div class="clearfix"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>


{% endblock %}
{% block tail_js %}
    {{ super() }}
    <script src="{{ url_for('static', filename='admin/lib/moment/min/moment.min.js') }}"></script>
    <script src="{{ url_for('static', filename='admin/lib/lodash/dist/lodash.min.js') }}"></script>
    <script src="{{ url_for('static', filename='admin/lib/vue/dist/vue.js') }}"></script>
    <script src="{{ url_for('static', filename='js/vue/vue-google-maps.min.js') }}"></script>

    <script src="{{ url_for('static', filename='js/bootstrap/icheck.js') }}"></script>
    <script src="{{ url_for('static', filename='admin/lib/clipboard/dist/clipboard.min.js') }}"></script>
    <script src="{{ url_for('static', filename='admin/lib/google-material-color/dist/palette.js') }}"></script>
    <script src="{{ url_for('static', filename='admin/lib/bootstrap-datepicker/dist/js/bootstrap-datepicker.min.js') }}"></script>
    <script src="{{ url_for('static', filename='admin/lib/jt.timepicker/jquery.timepicker.min.js') }}"></script>
    <script src="{{ url_for('static', filename='admin/lib/datepair.js/dist/datepair.min.js') }}"></script>
    <script src="{{ url_for('static', filename='admin/lib/datepair.js/dist/jquery.datepair.min.js') }}"></script>
    <script src="{{ url_for('static', filename='admin/lib/bootstrap-colorpicker/dist/js/bootstrap-colorpicker.min.js') }}"></script>
    <script src="{{ url_for('static', filename='admin/lib/selectize/dist/js/standalone/selectize.min.js') }}"></script>
    <script src="{{ url_for('static', filename='admin/lib/Croppie/croppie.min.js') }}"></script>
    <script src="{{ url_for('static', filename='js/admin/event/event_wizard.js') }}"></script>

    <script src="{{ url_for('static', filename='js/admin/event/wizard/basic-details/classic.js') }}"></script>
    <script src="{{ url_for('static', filename='js/admin/event/wizard/basic-details/vue-models.js') }}"></script>
    <script src="{{ url_for('static', filename='js/admin/event/wizard/basic-details/vue-app.js') }}"></script>
{% endblock %}
