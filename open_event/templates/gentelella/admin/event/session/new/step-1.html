{% set textarea_fields = ['short_abstract', 'long_abstract'] %}
{% set media_fields = ['slides', 'video', 'audio'] %}

{% set session_fields = ['title', 'subtitle', 'short_abstract', 'long_abstract', 'comments', 'track', 'session_type', 'language', 'slides', 'video', 'audio'] %}

{% macro session_form_field(identifier, require=0) %}
    {% set name = identifier | replace('_id','') %}
    {% set pretty_name = name | replace('_',' ') | capitalize  %}
    <div class="item form-group speaker-fields">
        <label class="control-label">
            {{ pretty_name }}
        {% if require==1 %}
            <span class="required">*</span>
        {% endif %}
        </label>
        {% if identifier in textarea_fields %}
          <textarea {% if require==1 %}
                        required="required"
                    {% endif %}
                    name="{{ name }}" class="form-control col-md-7 col-xs-12"></textarea>
        {% elif identifier in media_fields %}
          <br><input {% if require==1 %}
                    required="required"
                {% endif %}
                type="file" id="speaker-file-{{ name | default(1) }}" name="{{ name }}"
                   class="upload-btn"/>
          <label class="file-label" for="speaker-file-{{ name | default(1) }}">
                <i class="fa fa-cloud-upload" aria-hidden="true"></i>
                Choose a file</label>
        {% else %}
          <input {% if require==1 %}
                    required="required"
                {% endif %}
                name="{{ name }}" class="form-control col-md-7 col-xs-12"/>
        {% endif %}
    </div>
{% endmacro %}

<div id="step-1" class="wizard_content" style="display: block;">
  <div class="col-md-3 col-sm-3 col-xs-12 speaker_form">

  </div>
  <div class="col-md-6 col-sm-6 col-xs-12 speaker_form">
    {% for elem in session_fields %}
            {% if session_form[elem].include==1 %}
                {{ session_form_field(elem, session_form[elem].require) }}
            {% endif %}
    {% endfor %}
  </div>
</div>

